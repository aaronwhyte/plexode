<!DOCTYPE HTML>
<html>
<head>
<title>plex.lempelziv test</title>
<script src="../../../public_html/js/testing.js"></script>
<script src="../../../public_html/js/util.js"></script>
<script src="../../../public_html/js/plex/map.js"></script>
<script src="../../../public_html/js/plex/lempelziv.js"></script>
<script>
addTest(function oneCharEncodeDecode() {
  var lz = new plex.LempelZiv('ab');
  var str = 'b';
  var ints = lz.encodeToIntegers(str);
  var str2 = lz.decodeFromIntegers(ints);
  assertEquals(str, str2);
});

addTest(function abababaEncodeDecode() {
  var lz = new plex.LempelZiv('ab');
  var str = 'abababa';
  var ints = lz.encodeToIntegers(str);
  assertEquals(5, ints.length);
  var str2 = lz.decodeFromIntegers(ints);
  assertEquals(str, str2);
});

addTest(function longerEncodeDecode() {
  var lz = new plex.LempelZiv('abcdefghijklmnopqrstuvwxyz');
  var str = 'caaababababccccacacacbacbacabcbcbcacbabcaabababbb' +
      'ccbcbcbcababcabacbcbcccbcabcabababcabcacacabcabcbcaba';
  var ints = lz.encodeToIntegers(str);
  var str2 = lz.decodeFromIntegers(ints);
  assertEquals(str, str2);
});

addTest(function emptyStringEncodeDecode() {
  var lz = new plex.LempelZiv('abcdefghijklmnopqrstuvwxyz');
  var str = '';
  var ints = lz.encodeToIntegers(str);
  var str2 = lz.decodeFromIntegers(ints);
  assertEquals(str, str2);
});
</script>
</head>
<body onload="runTests()"></body>
</html>
